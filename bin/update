#!/bin/bash
#
# Update dotfiles and system packages

# Colors
BLUE='\033[0;34m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

step() { echo ""; echo -e "${BLUE}➜${NC} $1"; }
success() { echo -e "${GREEN}✓${NC} $1"; }
warn() { echo -e "${YELLOW}⚠${NC} $1"; }

echo ""
step "Updating dotfiles and packages"
echo ""

# Pull latest dotfiles
step "Updating dotfiles from git"
cd ~/.dotfiles
git pull origin master || warn "Failed to pull dotfiles"
success "Dotfiles updated"

# Homebrew
step "Updating Homebrew"
brew update
brew upgrade
brew upgrade --cask
brew cleanup
success "Homebrew updated"

# npm
step "Updating global npm packages"
npm update -g || warn "npm update failed"
success "npm packages updated"

# Composer
step "Updating global Composer packages"
composer global update || warn "Composer update failed"
success "Composer packages updated"

# Done
echo ""
success "All updates complete!"
echo ""
